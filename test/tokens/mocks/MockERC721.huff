// Interface
#define function mint(address, uint256) payable returns ()

// Constants
#define constant META_NAME = 0x05546f6b656e // "Token"
#define constant META_SYMBOL = 0x03544B4E // "TKN"

/// >>>>>>>>>>>>>>>>>>>>>  OVERRIDES  <<<<<<<<<<<<<<<<<<<<<< ///

#define macro NAME_OVERRIDE() = takes (0) returns (0) {
    0x20 0x20 mstore
    [META_NAME] 0x45 mstore
    0x60 0x20 return
}

#define macro SYMBOL_OVERRIDE() = takes (0) returns (0) {
    0x20 0x20 mstore
    [META_SYMBOL] 0x43 mstore
    0x60 0x20 return
}

/// >>>>>>>>>>>>>>>>>>>>>  EXTERNAL FUNCTIONS  <<<<<<<<<<<<<<<<<<<<<< ///

#define macro MINT() = takes (0) returns (0) {
    0x04 calldataload       // [tokenId]
    0x04 calldataload       // [to, tokenId]
    _MINT()
}

/* Main Macro - The contract entrypoint */
#define macro MAIN() = takes (0) returns (0) {
    // Identify which function is being called using the 4 byte function signature
    0x00 calldataload 0xE0 shr
    dup1 0x40c10f19 eq mint jumpi

    // Revert if no matching signature
    0x00 0x00 revert

    mint:
        MINT()
}